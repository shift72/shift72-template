{
  "name": "shift72-template",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "start": "npm run init && npm-run-all --parallel js:watch js:watch:local css:watch css:watch:local kibble:watch kibble:watch:local json:kibble:lang:watch",
    "css:init": "npm-run-all css:local:backup css:local:variables css:local:custom",
    "prepare": "git rm -r core --ignore-unmatch && git submodule add -f https://github.com/shift72/core-template.git core",
    "init": "node tools/build-output.js --mode=init && npm-run-all css:init css js merge:json:kibble merge:json:lang",
    "build": "npm run kibble:build",
    "publish": "npm run build",
    "css": "node-sass ./output/site/styles/main.scss ./output/site/static/styles/main.css",
    "css:watch": "npm run css -- --watch",
    "css:build": "cd output && postcss ./site/static/styles/main.css --use autoprefixer --use cssnano -r",
    "js": "concat -o ./output/site/static/js/rollup-target.js ./output/site/static/js/local.js ./output/site/static/js/main.js ./output/site/static/js/modernizr-custom.js; rollup -c",
    "js:watch": "watch 'npm run js' ./output/site/static/js --wait=3 --filter=./tools/watch-filter.js",
    "js:watch:local": "chokidar local/site/static/js -c 'merge-dirs local/site/static/js output/site/static/js --overwrite'",
    "js:build": "minify ./output/site/static/js/*.js > ./output/site/static/scripts/main.js",
    "kibble": "cd output && kibble render",
    "kibble:watch": "cd output && kibble render --watch --port 8081",
    "kibble:watch:local": "chokidar local/site -i local/site/en_AU.all.json -i local/site/styles -i local/site/static/js -i local/site/static/scripts -i local/site/static/styles -c 'node tools/build-output.js --mode=kibble:watch:local && npm-run-all css:local:variables merge:json:lang'",
    "kibble:build": "npm-run-all init css:build js:build && cd output && kibble publish",
    "css:local:backup": "cp ./output/site/styles/main.scss ./output/site/styles/_main.scss",
    "css:local:variables": "concat -o ./output/site/styles/_variables.scss ./local/site/styles/_variables.scss ./core/site/styles/_variables.scss && npm run css",
    "css:local:custom": "concat -o ./output/site/styles/main.scss ./output/site/styles/_main.scss ./local/site/styles/local.scss && npm run css:local:variables",
    "css:watch:local": "npm-run-all --parallel css:watch:local:variables css:watch:local:custom",
    "css:watch:local:variables": "chokidar local/site/styles/_variables.scss -c 'npm run css:local:variables'",
    "css:watch:local:custom": "chokidar local/site/styles/*.scss -i local/site/styles/_variables.scss -c 'npm run css:local:custom'",
    "merge:json:kibble": "node tools/merge-json.js output/kibble.json core/kibble.json local/kibble.json",
    "merge:json:lang": "for file in local/site/*_*.all.json; do filename=$(echo $file | grep -Eo '[^/]+$'); node tools/merge-json.js output/site/$filename core/site/$filename local/site/$filename; done",
    "json:kibble:lang:watch": "chokidar local/site/en_AU.all.json -c 'npm run merge:json:lang'"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "@rollup/plugin-buble": "^0.21.3",
    "autoprefixer": "^9.6.5",
    "bootstrap": "^4.3.1",
    "chalk": "^2.4.2",
    "chokidar-cli": "^2.0.0",
    "concat": "^1.0.3",
    "cssnano": "^4.1.10",
    "deepmerge": "^4.2.1",
    "del": "^5.1.0",
    "font-awesome": "^4.7.0",
    "headroom.js": "^0.11.0",
    "fs-extra": "^8.1.0",
    "merge-dirs": "^0.2.1",
    "minify": "^4.1.3",
    "node-sass": "^4.14.1",
    "npm-run-all": "^4.1.5",
    "postcss-cli": "^7.1.1",
    "rollup": "^2.23.0",
    "rollup-plugin-terser": "^6.1.0",
    "s72-kibble": "^0.10.24",
    "watch": "^1.0.2",
    "yargs": "^15.3.1"
  },
  "devDependencies": {
    "@rollup/plugin-node-resolve": "^9.0.0",
    "rollup-plugin-commonjs": "^10.1.0"
  }
}
